/*! 
 * Reign JavaScript Library 
 * @package Reign 
 */
!function(b){"use strict";window.ReignBuddyPress={init:function(){this.Slider(),this.toggleMoreOption(),this.rtmediaText(),this.buddupressMenu(),this.showActivity(),this.profileButtons(),this.setCounters(),this.UpdateNotification(),this.groupsMobile(),this.profileMenuToggle(),this.directoryLayout(),this.imageResize(),this.bpTabMenu(),"swipe"==wp_main_js_obj.bp_subnav_view_style&&this.bpSubnavSlider(),"more"==wp_main_js_obj.bp_subnav_view_style&&this.bpSubnavMore(),this.checkPassStrength()},Slider:function(){var e;e=!!wp_main_js_obj.reign_rtl,b("aside #members-carousel-list, aside #members-carousel-list-widget, aside #groups-carousel-list, aside #groups-carousel-list-widget, .youzify-sidebar #members-carousel-list, .youzify-sidebar #members-carousel-list-widget, .youzify-sidebar #groups-carousel-list, .youzify-sidebar #groups-carousel-list-widget").not(".slick-initialized").slick({slidesToShow:1}),b("#members-carousel-list, #members-carousel-list-widget, #groups-carousel-list, #groups-carousel-list-widget").not(".slick-initialized").slick({dots:!1,slidesToShow:4,slidesToScroll:4,rtl:e,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:543,settings:{slidesToShow:1,slidesToScroll:1}}]})},toggleMoreOption:function(){b(document).on("click",".bp-activity-more-options-wrap .bp-activity-more-options-action",function(e){e.preventDefault();e=b(this).closest(".bp-activity-more-options-wrap");e.siblings(".selected").removeClass("selected"),e.toggleClass("selected")}),b("body").mouseup(function(e){b(".bp-activity-more-options-wrap *").is(e.target)||b(".bp-activity-more-options-wrap").removeClass("selected")})},rtmediaText:function(){b(".rtmedia-activity-text > span").each(function(){b(this).filter(function(){return""===b.trim(b(this).text())&&0===b(this).children().length}).remove()})},buddupressMenu:function(){b(".wbcom-nav-menu-toggle").click(function(){b(this).toggleClass("open")});var t=b(".rg-select-filter :selected").text();b(".rg-select-filter option").each(function(){var e=b(this).text()===t?"current":"";b(".rg-filters-wrap").append('<li class="'+e+'"><a href="'+b(this).attr("value")+'">'+b(this).html()+"</a></li>")}),b(".rg-filters-wrap").on("click","li a",function(e){e.preventDefault();e=b(this).attr("href");return b(".rg-select-filter").val(e).change(),b(".rg-filters-wrap li").removeClass("current"),b(".rg-filters-wrap li").removeClass("selected"),b(this).parent().addClass("current"),!1}),b(".member-front-page .bp-widget-area h4.widget-title").wrapInner("<span/>"),b(".group-front-page .bp-widget-area h4.widget-title").wrapInner("<span/>")},showActivity:function(){function i(e,t){for(var i=e.split("?")[1].split("&"),n=0;n<i.length;n++){var s=i[n].split("=");if(s[0]===t)return s[1]}}function n(e,t,i){i=b(i);var n=b("#reign_per_page",i).val(),s=b("#reign_max_items",i).val(),r=b("#reign_included_components",i).val(),a=b("#reign_excluded_components",i).val(),o=b("#reign_show_avatar",i).val(),c=b("#reign_show_content",i).val(),u=b("#reign_show_filters",i).val(),l=b("#reign_is_personal",i).val(),d=b("#reign_is_blog_admin_activity",i).val(),p=b("#reign_show_post_form",i).val(),m=b("#reign-activity-words-count",i).val();b.post(wp_main_js_obj.ajaxurl,{action:"reign_fetch_content",cookie:encodeURIComponent(document.cookie),page:e,scope:t,max:s,per_page:n,show_avatar:o,show_content:c,show_filters:u,is_personal:l,is_blog_admin_activity:d,included_components:r,excluded_components:a,show_post_form:p,original_scope:b("#reign-original-scope").val(),activity_words_count:m,allow_comment:b("#reign-activity-allow-comment").val()},function(e){b(".reign-wrap",i).replaceWith(e),b("form.reign-ac-form").hide(),b("#activity-filter-links li#afilter-"+t,i).addClass("selected")})}b(document).on("click",".widget_bp_reign_activity_widget div.pagination-links a",function(e){e.preventDefault();e=b(this).parents(".widget_bp_reign_activity_widget").get(0),e=b(e);n(i(b(this).attr("href"),"acpage"),b("#reign_scope").val(),e)}),b(document).on("click",".widget_bp_reign_activity_widget #activity-filter-links li a",function(){var e=b(this).parents(".widget_bp_reign_activity_widget").get(0),e=b(e),t="",t="afilter-clear"===b(this).parent().attr("id")?b("#reign-original-scope",e).val():i(b(this).attr("href"),"afilter");return b("#reign-scope").val(t),n(1,t,e),!1})},profileButtons:function(){b(".rg-item-buttons").on("click",function(e){e.stopPropagation(),b(this).toggleClass("active")}),b("body").on("click",function(e){b(".rg-item-buttons").removeClass("active")})},setCounters:function(){b("#wp-admin-bar-my-account-buddypress").find("li").each(function(){var e=b(this),t=e.children("a").children(".count");0!=t.length&&(e=e.attr("id"),0==(e=b(".bp-menu.bp-"+e.replace(/wp-admin-bar-my-account-/,"")+"-nav")).find(".count").length)&&e.find("a").append('<span class="count">'+t.html()+"</span>")})},UpdateNotification:function(){b(document).on("heartbeat-tick.reign_notification_count",function(e,t){t.hasOwnProperty("reign_notification_count")&&(0<(t=t.reign_notification_count).notification?(jQuery("#ab-pending-notifications").text(t.notification).removeClass("no-alert"),jQuery("#ab-pending-notifications-mobile").text(t.notification).removeClass("no-alert"),jQuery("#wp-admin-bar-my-account-notifications .ab-item[href*='/notifications/']").each(function(){jQuery(this).append("<span class='count'>"+t.notification+"</span>"),1<jQuery(this).find(".count").length&&jQuery(this).find(".count").first().remove()})):(jQuery("#ab-pending-notifications").text(t.notification).addClass("no-alert"),jQuery("#ab-pending-notifications-mobile").text(t.notification).addClass("no-alert"),jQuery("#wp-admin-bar-my-account-notifications .ab-item[href*='/notifications/']").each(function(){jQuery(this).find(".count").remove()})),jQuery(".mobile #wp-admin-bar-my-account-notifications-read, #adminbar-links #wp-admin-bar-my-account-notifications-read").each(function(){b(this).find("a").find(".count").remove()}),0<t.unread_message?(jQuery("#user-messages").find("span").text(t.unread_message),jQuery(".ab-item[href*='/messages/']").each(function(){jQuery(this).append("<span class='count'>"+t.unread_message+"</span>"),1<jQuery(this).find(".count").length&&jQuery(this).find(".count").first().remove()})):(jQuery("#user-messages").find("span").text(t.unread_message),jQuery(".ab-item[href*='/messages/']").each(function(){jQuery(this).find(".count").remove()})),jQuery(".mobile #wp-admin-bar-my-account-messages-default, #adminbar-links #wp-admin-bar-my-account-messages-default").find("li:not('#wp-admin-bar-my-account-messages-inbox')").each(function(){jQuery(this).find("span").remove()}),0<t.friend_request?jQuery(".ab-item[href*='/friends/']").each(function(){jQuery(this).append("<span class='count'>"+t.friend_request+"</span>"),1<jQuery(this).find(".count").length&&jQuery(this).find(".count").first().remove()}):jQuery(".ab-item[href*='/friends/']").each(function(){jQuery(this).find(".count").remove()}),jQuery(".mobile #wp-admin-bar-my-account-friends-default, #adminbar-links #wp-admin-bar-my-account-friends-default").find("li:not('#wp-admin-bar-my-account-friends-requests')").each(function(){jQuery(this).find("span").remove()}),jQuery(".user-notifications .rg-count").html(t.notification),t)&&(jQuery("#wp-admin-bar-bp-notifications-default").empty(),jQuery(".user-notifications #rg-notify").empty(),jQuery.each(t.notification_content,function(e,t){jQuery("#wp-admin-bar-bp-notifications-default").append("<li>"+t+"</li>"),jQuery("#wp-admin-bar-bp-notifications-default a").each(function(){jQuery(this).addClass("ab-item")})}),jQuery.each(t.notification_content,function(e,t){jQuery(".user-notifications #rg-notify").append("<li>"+t+"</li>")}))})},groupsMobile:function(){var e=b(window),t=b(".widget-groups-by, .widget-groups-orderby, .widget-groups-groupby"),i=b(".widget-activity-nav, .widget-activity-subnav"),n=b(".widget-members-nav, .widget-members-subnav");e.width()<544&&(0==b("#mobile-view-aside").length&&b('<aside id="mobile-view-aside"></aside>').insertBefore(".groups.dir-list"),e.width()<544?(t.prependTo("#mobile-view-aside"),i.insertAfter(".activity-content-area .entry-header"),n.insertAfter(".members-content-area .entry-header")):(t.prependTo("#left"),i.prependTo("#left"),n.prependTo("#left"))),b(window).on("resize",function(){b(window).width()<544?(t.prependTo("#mobile-view-aside"),i.insertAfter(".activity-content-area .entry-header"),n.insertAfter(".members-content-area .entry-header")):(t.prependTo("#left"),i.prependTo("#left"),n.prependTo("#left"))})},profileMenuToggle:function(){b("div.wbtm-show-item-buttons").click(function(){b(this).next("#item-buttons").toggle()}),b(document).click(function(e){e=e.target;b(e).is("div.wbtm-show-item-buttons")||b(e).parents().is("div.wbtm-show-item-buttons")||b(".bp-legacy #item-buttons").hide()})},directoryLayout:function(){b(".bp-legacy .wbtm-member-directory-type-4 .action .generic-button").find("a").contents().wrap("<span/>"),b(".bp-legacy.manage-members .wbtm-member-directory-type-4 .action > div").find("a.button").contents().wrap("<span/>"),b(".bp-legacy .wbtm-group-directory-type-4 .action .generic-button").find("a").contents().wrap("<span/>")},imageResize:function(){b(".grid .aspect-ratio .img-card").each(function(){var e,t,i=b(this).width(),n=b(this).height(),s=i/n,r=b(this).find("img").width()/b(this).find("img").height();r<=s?(s=(e=(t=i)/r)/2,b(this).find("img").css({width:t+1,height:e+1,marginTop:-s,marginLeft:0,top:"50%",left:"0"})):(i=(t=(e=n)*r)/2,b(this).find("img").css({width:t+1,height:e+1,marginTop:0,marginLeft:-i,top:"0",left:"50%"})),b(this).css("opacity","1")})},bpTabMenu:function(){var e;e=!!wp_main_js_obj.reign_rtl,b(".rg-nouveau-sidebar-menu.reign-nav-more .main-navs:not(.vertical) ul").BuddyPressMenu(35),b(".rg-nouveau-sidebar-menu.reign-nav-swipe .main-navs:not(.vertical) ul").slick({slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow reign-nav-swipe-arrow"><i class="far fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow reign-nav-swipe-arrow"><i class="far fa-angle-left"></i></button>',infinite:!1,swipeToSlide:!0,variableWidth:!0,rtl:e}),b(document).on("click",".rg-nouveau-sidebar-menu .more-button",function(e){e.preventDefault(),b(this).toggleClass("active").next().toggleClass("active")}),b(document).on("click",".rg-nouveau-sidebar-menu .hideshow .sub-menu a",function(e){b("body").trigger("click");var t=b(this).parent();t.parent(".rg-nouveau-sidebar-menu .sub-menu").find("li").removeClass("current selected"),t.addClass("current selected")}),b(document).click(function(e){var t=b(".rg-nouveau-sidebar-menu .more-button, .rg-nouveau-sidebar-menu .sub-menu");t.is(e.target)||0!==t.has(e.target).length||b(".rg-nouveau-sidebar-menu .more-button").removeClass("active").next().removeClass("active")})},bpSubnavSlider:function(){b(document).ready(function(){var e=!!wp_main_js_obj.reign_rtl;function t(){b(".item-body-inner-wrapper > .bp-subnavs .subnav").not(".slick-initialized").slick({dots:!1,nextArrow:'<button class="slick-next slick-arrow reign-nav-swipe-arrow"><i class="far fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow reign-nav-swipe-arrow"><i class="far fa-angle-left"></i></button>',infinite:!1,swipeToSlide:!0,variableWidth:!0,rtl:e})}window.innerWidth<748.8&&t(),b(window).scroll(function(){window.innerWidth<748.8?b(".item-body-inner-wrapper > .bp-subnavs .subnav").hasClass("slick-initialized")||t():b(".item-body-inner-wrapper > .bp-subnavs .subnav.slick-initialized").slick("unslick")})})},bpSubnavMore:function(){function e(){window.innerWidth<748.8?(b(".item-body-inner-wrapper > .bp-subnavs ul.subnav").addClass("more"),b(".item-body-inner-wrapper > .bp-subnavs ul.subnav.more").BuddyPressMenu(35)):(b(".item-body-inner-wrapper > .bp-subnavs ul.subnav").removeClass("more"),b(".item-body-inner-wrapper > .bp-subnavs ul.subnav.more").off(".BuddyPressMenu"))}b(document).ready(function(){e()}),b(window).resize(function(){e()}),b(document).on("click",".item-body-inner-wrapper .bp-subnavs ul.subnav .more-button",function(e){e.preventDefault(),b(this).toggleClass("active").next().toggleClass("active")}),b(document).on("click",".item-body-inner-wrapper .bp-subnavs ul.subnav .hideshow .sub-menu a",function(e){b("body").trigger("click");var t=b(this).parent();t.parent(".item-body-inner-wrapper .bp-subnavs ul.subnav .sub-menu").find("li").removeClass("current selected"),t.addClass("current selected")}),b(document).click(function(e){var t=b(".item-body-inner-wrapper .bp-subnavs ul.subnav .more-button, .item-body-inner-wrapper .bp-subnavs ul.subnav .sub-menu");t.is(e.target)||0!==t.has(e.target).length||b(".item-body-inner-wrapper .bp-subnavs ul.subnav .more-button").removeClass("active").next().removeClass("active")})},checkPassStrength:function(){function e(){var e=b(".password-entry").val(),t=b(".password-entry-confirm").val();if(b("#pass-strength-result").removeClass("short bad good strong"),e)switch(wp.passwordStrength.meter(e,wp.passwordStrength.userInputBlacklist(),t)){case 2:b("#pass-strength-result").addClass("bad").html(pwsL10n.bad);break;case 3:b("#pass-strength-result").addClass("good").html(pwsL10n.good);break;case 4:b("#pass-strength-result").addClass("strong").html(pwsL10n.strong);break;case 5:b("#pass-strength-result").addClass("short").html(pwsL10n.mismatch);break;default:b("#pass-strength-result").addClass("short").html(pwsL10n.short)}else b("#pass-strength-result").html(pwsL10n.empty)}b(document).ready(function(){b(".password-entry").val("").keyup(e),b(".password-entry-confirm").val("").keyup(e)})}},b(document).on("ready",function(){ReignBuddyPress.init()})}(jQuery),jQuery(document).ready(function(){jQuery(".wb-group-type-filters-wrap").on("click","li a",function(e){e.preventDefault();var e=jQuery(this).attr("data-group-slug"),t=(jQuery(".wb-group-type-filters-wrap li").removeClass("current"),jQuery(this).parent().addClass("current"),"groups");return bp_filter_request(t,jq.cookie("bp-groups-filter"),jq.cookie("bp-groups-scope"),"div."+t,jQuery("#groups_search").val(),1,"group_type="+e,"",""),!1})}),jQuery(document).ready(function(){jQuery(".bp-legacy .wbtm-item-buttons-wrapper #item-buttons > div").length||(jQuery(".bp-legacy .wbtm-item-buttons-wrapper").hide(),jQuery(".bp-legacy .wbtm-cover-header-type-3 .wbtm-cover-extra-info-section").css("padding-bottom",0))});